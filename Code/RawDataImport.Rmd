---
title: "RawDataImport"
author: "jhs"
date: "2025-12-02"
output: pdf_document
editor_options: 
  chunk_output_type: console
---

This raw data import relies on essential packages: tidyverse, here and readxl. We verify with `here()` that our working directory is accurate. We then import the data using the read_xlsx() function.

```{r setup, include=FALSE}
#install.packages(tidyverse);install.packages(here); install.packages(readxl)
library(tidyverse)
library(readxl)
library(here)
here()
RawNCData <- data.frame(read_xlsx(here('Data','Raw','NCDataPortal-RAW.xlsx'), skip = 2), stringsAsFactors = TRUE)
```

As always, we inspect the nature of the data. We use functions head(), str(), summary(), dim(), and colnames() to view and summarize the data.

```{r Exploring the Structure of the Raw Data}
head(RawNCData)
str(RawNCData)
summary(RawNCData)
dim(RawNCData)
colnames(RawNCData)
```

On first glance we see that all the columns representing average household income are stored as strings. We will clean this data so that our incomes are numeric before moving on to other formatting.

```{r Formatting Incomes as Numeric}
CharacterColNames <- c("Average.Family.Income",
                       "Median.Family.Income",
                       "Married.Couple.Families.without.Children",
                       "Married.Couple.Families.with.Children",
                       "Single.Males.without.Children",
                       "Single.Males.with.Children",
                       "Single.Females.without.Children",
                       "Single.Females.with.Children",
                       "Non.Hispanic.White","Black",
                       "Asian",
                       "American.Indian.or.Alaska.Native",
                       "Native.Hawaiian.or.Pacific.Islander",
                       "Some.Other.Race",
                       "Multiple.Race",
                       "Hispanic.or.Latino")
RawNCData[CharacterColNames] <- as.factor(RawNCData$CharacterC)
class(RawNCData$Average.Family.Income)
```
